<p id="notice"><%= notice %></p>

<h1>ノート</h1>

<table class="table table-striped"
       style="text-align: right; width: 100%;">
  <thead>
    <tr>
      <th>Date</th>
      <th>Place</th>
      <th>Start time</th>
      <th>End time</th>
      <th>Memo</th>
      <th>Image</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @pages.each do |page| %>
      <tr>
        <td><%= page.id %>:<%= page.lines.count %>:
        <%= page.date %></td>
        <td><%= page.place %></td>
        <td><%= page.start_time %></td>
        <td><%= page.end_time %></td>
        <td><%= page.memo %></td>
        <td><%= page.image %></td>
        <td><%= link_to 'Show', page %></td>
        <td><%= link_to 'Edit', edit_page_path(page) %></td>
        <td><%= link_to 'Destroy', page, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
      <% #TODO ここはtableかなんか。スマホでいい感じになるように has_many に対してもオーダー効く %>
      <% page.lines.order(:id).each do |line| %>
        <tr>
          <td>
          </td>
          <td><%= line.no %></td>
          <td><%= line.item.name %>
        </td>
        <td><%= line.mode.name %></td>
        <td><%= line.weight_1 %>kg/<%= line.reps_1 %></td>
        <td><%= line.weight_2 %>kg/<%= line.reps_2 %></td>
        <td><%= line.weight_3 %>kg/<%= line.reps_3 %></td>
        <td><%= line.weight_4 %>kg/<%= line.reps_4 %></td>
        <td><%= line.weight_5 %>kg/<%= line.reps_5 %></td>
        <td><%= link_to 'Show', line %></td>
        <td><%= link_to 'Edit', edit_line_path(line) %></td>
        <td><%= link_to 'Destroy', line, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
      <tr>
          <td>
          </td>
        <td>
          <%= link_to 'New Line', new_line_path %>||
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Page', new_page_path %>
