  <input type="button" class="btn btn-default"
     value="ページへ" 
     onclick="location.href='/pages/<%= @line.page_id %>' " /> 
  <input type="button" class="btn btn-default"
  <% if @prev_line %>
     value="<%= '前へ[' + @prev_line.no.to_s + '.' + @prev_line.item.part.name + ']' %>" 
     onclick="location.href='/lines/<%= @prev_line.id %>/edit' " 
  <% else %>
     value="先頭です。" 
  <% end %>
  />
<!--BUD DRY-->
  <input type="button" class="btn btn-info"
  <% if @next_line %>
     value="<%= '次へ[' + @next_line.no.to_s + '.' + @next_line.item.part.name + ']' %>" 
     onclick="location.href='/lines/<%= @next_line.id %>/edit' " 
  <% else %>
     value="最後です。" 
  <% end %>
  />
<%= form_for(@line , remote: true,:html => {class: "form-inline"}) do |f| %>
  <span id="err_span">
    <%= render "shared/errors" ,obj: @line %>
  </span>
  <div class="field form-group">
    <%= f.label :page_id %><br>
    <%= f.collection_select :page_id ,
      Page.all.order("date desc") , :id ,:page_label ,
      {prompt: true} , { class: "form-control"} %>
    <%= f.number_field :no , class: "num form-control"  %>
  </div>
  <div class="field">
    <%= f.label :item_id %><br>
    <%= f.collection_select :item_id ,
      Item.all, :id , :name ,
      {prompt: true} , { class: "form-control"} %>
</div>
<div class="field">
  <%= f.label :mode_id %><br>
  <%= f.collection_select :mode_id ,
    Mode.all, :id , :name ,
      {prompt: true} , { class: "form-control"} %>
  </div>
  <div class="field form-group">
    <%= label_tag "1セット kg / 回数:メモ" %><br>
    <% if @last3_line.present? %>
      <%= @last3_line.get_set_label(1) %><br>
    <% end %>
    <% if @last2_line.present? %>
      <%= @last2_line.get_set_label(1) %><br>
    <% end %>
    <% if @last_line.present? %>
      <%= @last_line.get_set_label(1) %><br>
    <% end %>
    <%= label_tag "重量" %>
    <%= f.number_field :weight_1, class: "form-control" ,step: 0.5  %>
    /<%= label_tag "回数" %>
    <%= f.number_field :reps_1 , class: "form-control"  ,step: 0.5%>
    :<%= label_tag "メモ" %>
    <%= f.text_field :memo_1 ,class: "form-control"%>
  </div>
  <div class="field">
    <%= label_tag "2セット kg / 回数:メモ" %><br>
    <% if @last3_line.present? %>
      <%= @last3_line.get_set_label(2) %><br>
    <% end %>
    <% if @last2_line.present? %>
      <%= @last2_line.get_set_label(2) %><br>
    <% end %>
    <% if @last_line.present? %>
      <%= @last_line.get_set_label(2) %><br>
    <% end %>
    <%= label_tag "重量" %>
    <%= f.number_field :weight_2, class: "form-control" ,step: 0.5  %>
    /<%= label_tag "回数" %>
    <%= f.number_field :reps_2 , class: "form-control"  ,step: 0.5%>
    :<%= label_tag "メモ" %>
    <%= f.text_field :memo_2 ,class: "form-control"%>
  </div>
  <div class="field">
    <%= label_tag "3セット kg / 回数:メモ" %><br>
    <% if @last3_line.present? %>
      <%= @last3_line.get_set_label(3) %><br>
    <% end %>
    <% if @last2_line.present? %>
      <%= @last2_line.get_set_label(3) %><br>
    <% end %>
    <% if @last_line.present? %>
      <%= @last_line.get_set_label(3) %><br>
    <% end %>
    <%= label_tag "重量" %>
    <%= f.number_field :weight_3, class: "form-control" ,step: 0.5  %>
    /<%= label_tag "回数" %>
    <%= f.number_field :reps_3 , class: "form-control"  ,step: 0.5%>
    :<%= label_tag "メモ" %>
    <%= f.text_field :memo_3 ,class: "form-control"%>
  </div>
    <%= f.submit "更新する" , class: "btn btn-primary btn-block" %>
    <br/>
<!--BUD DRY-->
  <input type="button" class="btn btn-info"
  <% if @next_line %>
     value="<%= '次へ[' + @next_line.no.to_s + '.' + @next_line.item.part.name + ']'+ @next_line.item.name  %>" 
     onclick="location.href='/lines/<%= @next_line.id %>/edit' " 
  <% else %>
     value="最後です。" 
  <% end %>
  />
  <div class="field">
    <%= label_tag "4セット kg / 回数:メモ" %><br>
    <% if @last3_line.present? %>
      <%= @last3_line.get_set_label(4) %><br>
    <% end %>
    <% if @last2_line.present? %>
      <%= @last2_line.get_set_label(4) %><br>
    <% end %>
    <% if @last_line.present? %>
      <%= @last_line.get_set_label(4) %><br>
    <% end %>
    <%= label_tag "重量" %>
    <%= f.number_field :weight_4, class: "form-control" ,step: 0.5  %>
    /<%= label_tag "回数" %>
    <%= f.number_field :reps_4 , class: "form-control"  ,step: 0.5%>
    :<%= label_tag "メモ" %>
    <%= f.text_field :memo_4 ,class: "form-control"%>
  </div>
  <div class="field">
    <%= label_tag "5セット kg / 回数:メモ" %><br>
    <% if @last3_line.present? %>
      <%= @last3_line.get_set_label(5) %><br>
    <% end %>
    <% if @last2_line.present? %>
      <%= @last2_line.get_set_label(5) %><br>
    <% end %>
    <% if @last_line.present? %>
      <%= @last_line.get_set_label(5) %><br>
    <% end %>
    <%= label_tag "重量" %>
    <%= f.number_field :weight_5, class: "form-control" ,step: 0.5  %>
    /<%= label_tag "回数" %>
    <%= f.number_field :reps_5 , class: "form-control"  ,step: 0.5%>
    :<%= label_tag "メモ" %>
    <%= f.text_field :memo_5 ,class: "form-control"%>
  </div>
    <%= f.submit "更新する" , class: "btn btn-primary btn-block" %>
<% end %>
